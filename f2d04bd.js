(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{246:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r=5,c={weekday:"long",year:"numeric",month:"long",day:"numeric"},o="en-UK"},263:function(e,t,n){"use strict";n.r(t);var r=n(6),c=(n(41),n(246)),o={filters:{formatDate:function(e){return new Date(e).toLocaleDateString(c.a,c.b)}},data:function(){return{newsCount:0,perPage:c.c,currentPage:1,news:[]}},watch:{$route:function(e,t){this.page=parseInt(e.query.page)}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$content("article").only("slug").fetch();case 2:return n=t.sent,e.newsCount=n.length,e.currentPage="page"in e.$route.query?parseInt(e.$route.query.page):1,t.next=7,e.fetchNews(e.currentPage);case 7:case"end":return t.stop()}}),t)})))()},methods:{fetchNews:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$content("article").sortBy("createdAt","desc").skip(t.perPage*(e-1)).limit(t.perPage).fetch();case 2:t.news=n.sent;case 3:case"end":return n.stop()}}),n)})))()},changePage:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.$router.push({name:"index",query:{page:e}}),n.next=3,t.fetchNews(e);case 3:case"end":return n.stop()}}),n)})))()}}},l=n(52),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",{staticClass:"title"},[e._v("\n    Latest news\n  ")]),e._v(" "),e._l(e.news,(function(article){return n("div",{key:article.slug,staticClass:"box"},[n("article",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("p",[n("strong",{staticClass:"title is-4"},[e._v(e._s(article.title))]),e._v(" "),n("br"),e._v(" "),n("small",{staticClass:"has-text-primary"},[e._v(e._s(e._f("formatDate")(article.createdAt)))])]),e._v(" "),n("br"),e._v(" "),n("nuxt-content",{attrs:{document:{body:article.excerpt}}}),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"level-right"},[n("a",{staticClass:"level-item"},[n("NuxtLink",{attrs:{to:"/article/"+article.slug}},[n("b-button",{attrs:{"icon-right":"book-reader"}},[e._v("\n                Continue reading\n              ")])],1)],1)])],1)])])})),e._v(" "),n("div",[n("b-pagination",{attrs:{total:e.newsCount,"per-page":e.perPage,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{change:e.changePage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],2)}),[],!1,null,null,null);t.default=component.exports}}]);